/* ============================================
   TALKBOY THEME - 90s Tape Recorder Aesthetic
   with Professional Theme Toggle
   ============================================ */

/* Import fonts */
@import url('https://fonts.googleapis.com/css2?family=Bungee&family=Inter:wght@400;500;600;700&family=Russo+One&family=Share+Tech+Mono&display=swap');

/* ============================================
   CSS CUSTOM PROPERTIES - Talkboy Defaults
   ============================================ */
:root {
    /* Page Background */
    --bg-primary: #2a2a2a;
    --bg-gradient-center: #3a3a3a;
    --bg-gradient-edge: #1a1a1a;

    /* Header */
    --header-top: #c8ccd0;
    --header-mid: #a8acb0;
    --header-bottom: #989ca0;
    --header-text: #1a1a1a;
    --header-border: #707478;
    --header-shadow: #b0b4b8;

    /* Main Body */
    --main-top: #bcc0c4;
    --main-mid: #a4a8ac;
    --main-bottom: #9ca0a4;
    --main-border: #888c90;

    /* Dark Panels */
    --panel-bg-top: #1e2124;
    --panel-bg-bottom: #16181a;
    --panel-border: #555;
    --panel-heading: #aab0b8;

    /* Screen/Display Areas */
    --screen-bg-top: #0a0c0e;
    --screen-bg-bottom: #0e1012;
    --screen-border: #333;

    /* Status Section */
    --status-bg-top: #2a2d30;
    --status-bg-bottom: #1a1d20;
    --status-dot-off: #444;

    /* Accent (LED Green) */
    --accent: #22cc44;
    --accent-bright: #44ee66;
    --accent-dim: #335533;
    --accent-glow: rgba(34, 204, 68, 0.5);
    --accent-bg: #1a3a1a;
    --accent-subtle-bg: rgba(34, 204, 68, 0.1);
    --accent-subtle-bg2: rgba(34, 204, 68, 0.03);
    --accent-subtle-bg3: rgba(34, 204, 68, 0.05);
    --accent-text-shadow: 0 0 4px rgba(34, 204, 68, 0.3);
    --accent-text-shadow-strong: 0 0 6px rgba(34, 204, 68, 0.5);
    --accent-text-shadow-heading: 0 0 6px rgba(68, 238, 102, 0.4);

    /* Buttons: Primary (green) */
    --btn-primary-top: #3cba54;
    --btn-primary-mid: #2d9442;
    --btn-primary-bottom: #267a38;
    --btn-primary-shadow: #1a5c24;
    --btn-primary-hover-top: #44cc5e;
    --btn-primary-hover-mid: #35a44c;
    --btn-primary-hover-bottom: #2e8840;

    /* Buttons: Secondary (gray) */
    --btn-secondary-top: #6a6e72;
    --btn-secondary-mid: #555960;
    --btn-secondary-bottom: #44484c;
    --btn-secondary-shadow: #2a2d30;
    --btn-secondary-text: #ddd;
    --btn-secondary-hover-top: #747880;
    --btn-secondary-hover-mid: #606468;
    --btn-secondary-hover-bottom: #505458;

    /* Buttons: Danger (red) */
    --btn-danger-top: #e83830;
    --btn-danger-mid: #cc2a22;
    --btn-danger-bottom: #a82018;
    --btn-danger-shadow: #6e1410;
    --btn-danger-hover-top: #f04840;
    --btn-danger-hover-mid: #d8342c;
    --btn-danger-hover-bottom: #b82820;

    /* Buttons: Mark (gold) */
    --btn-mark-top: #d4a020;
    --btn-mark-mid: #b8880a;
    --btn-mark-bottom: #9a7008;
    --btn-mark-shadow: #6a4c04;
    --btn-mark-hover-top: #e4b030;
    --btn-mark-hover-mid: #c8981a;
    --btn-mark-hover-bottom: #aa8018;

    /* Action Buttons */
    --action-btn-top: #555960;
    --action-btn-bottom: #44484c;
    --action-btn-text: #ccc;
    --action-btn-border: #666;
    --action-btn-border-bottom: #333;
    --action-btn-shadow: #2a2d30;

    /* Icon Button (header) */
    --icon-btn-top: #e0e0e0;
    --icon-btn-bottom: #b0b0b0;
    --icon-btn-text: #333;
    --icon-btn-border: #888;
    --icon-btn-shadow: #777;

    /* Secondary Action */
    --secondary-action-top: #444;
    --secondary-action-bottom: #333;
    --secondary-action-text: #aaa;
    --secondary-action-border: #555;

    /* Toggle Preview Button */
    --toggle-btn-top: #444;
    --toggle-btn-bottom: #333;
    --toggle-btn-text: #aaa;
    --toggle-btn-border: #666;

    /* Modal */
    --modal-bg-top: #c8ccd0;
    --modal-bg-bottom: #b0b4b8;
    --modal-border: #888;
    --modal-heading: #2a2d30;
    --modal-subheading: #444;
    --modal-text: #444;
    --modal-close: #777;

    /* Toast */
    --toast-bg: #2a2d30;
    --toast-text: #22cc44;
    --toast-border: #444;
    --toast-success-bg: #1a2e1a;
    --toast-success-border: #22cc44;
    --toast-error-bg: #2e1a1a;
    --toast-error-border: #e83830;
    --toast-error-text: #ff5548;

    /* Scrollbar */
    --scrollbar-track: #1a1d20;
    --scrollbar-thumb: #444;
    --scrollbar-thumb-hover: #666;

    /* Toggle Switch */
    --toggle-bg: #333;
    --toggle-border: #555;
    --toggle-knob: #666;

    /* Typography */
    --font-primary: 'Share Tech Mono', 'Courier New', monospace;
    --font-heading: 'Russo One', sans-serif;
    --font-display: 'Share Tech Mono', monospace;

    /* Cassette */
    --cassette-window-top: #1a1d20;
    --cassette-window-bottom: #111314;
    --tape-line-color: #333;

    /* Text */
    --text-primary: #333;
    --text-muted: #888;
    --text-subtle: #555;
    --input-bg: #0e1012;

    /* Prompt Textarea */
    --textarea-bg: #1a1d20;
    --textarea-border: #444;

    /* Warning */
    --warning-bg: #d4a937;
    --warning-border: #a88420;
    --warning-text: #333;
    --warning-accent: #8b1a1a;

    /* Compatibility Note */
    --compat-bg: rgba(0,0,0,0.1);
    --compat-border: #666;
    --compat-text: #555;

    /* Loading */
    --spinner-track: #333;
    --spinner-fill: #22cc44;

    /* Markdown in summary */
    --md-h3-color: #33dd55;
    --md-em-color: #88ddaa;

    /* Follow-up */
    --followup-border: #333;
    --followup-user-bg: rgba(34, 204, 68, 0.1);
    --followup-user-border: #335533;
    --followup-ai-bg: rgba(255, 255, 255, 0.03);
    --followup-ai-border: #333;

    /* Progress bar */
    --progress-bg: #1a1d20;
    --progress-border: #444;
    --progress-fill-start: #22cc44;
    --progress-fill-end: #44ee66;

    /* Whisper loading */
    --whisper-text: #aaa;
}

/* ============================================
   PROFESSIONAL THEME OVERRIDES
   ============================================ */
[data-theme="pro"] {
    /* Page Background */
    --bg-primary: #f0f2f5;
    --bg-gradient-center: #f0f2f5;
    --bg-gradient-edge: #e4e6e9;

    /* Header */
    --header-top: #1e293b;
    --header-mid: #1e293b;
    --header-bottom: #1e293b;
    --header-text: #f8fafc;
    --header-border: #334155;
    --header-shadow: #0f172a;

    /* Main Body */
    --main-top: #ffffff;
    --main-mid: #ffffff;
    --main-bottom: #fafafa;
    --main-border: #e2e8f0;

    /* Panels */
    --panel-bg-top: #ffffff;
    --panel-bg-bottom: #f8fafc;
    --panel-border: #e2e8f0;
    --panel-heading: #334155;

    /* Screen Areas */
    --screen-bg-top: #f8fafc;
    --screen-bg-bottom: #f1f5f9;
    --screen-border: #e2e8f0;

    /* Status Section */
    --status-bg-top: #f1f5f9;
    --status-bg-bottom: #f8fafc;
    --status-dot-off: #cbd5e1;

    /* Accent (Blue) */
    --accent: #2563eb;
    --accent-bright: #3b82f6;
    --accent-dim: #93c5fd;
    --accent-glow: rgba(37, 99, 235, 0.3);
    --accent-bg: #eff6ff;
    --accent-subtle-bg: rgba(37, 99, 235, 0.08);
    --accent-subtle-bg2: rgba(37, 99, 235, 0.03);
    --accent-subtle-bg3: rgba(37, 99, 235, 0.05);
    --accent-text-shadow: none;
    --accent-text-shadow-strong: none;
    --accent-text-shadow-heading: none;

    /* Buttons: Primary (blue) */
    --btn-primary-top: #2563eb;
    --btn-primary-mid: #1d4ed8;
    --btn-primary-bottom: #1e40af;
    --btn-primary-shadow: #1e3a8a;
    --btn-primary-hover-top: #3b82f6;
    --btn-primary-hover-mid: #2563eb;
    --btn-primary-hover-bottom: #1d4ed8;

    /* Buttons: Secondary */
    --btn-secondary-top: #64748b;
    --btn-secondary-mid: #475569;
    --btn-secondary-bottom: #334155;
    --btn-secondary-shadow: #1e293b;
    --btn-secondary-text: #f1f5f9;
    --btn-secondary-hover-top: #6e7f94;
    --btn-secondary-hover-mid: #516377;
    --btn-secondary-hover-bottom: #3d4f63;

    /* Buttons: Danger */
    --btn-danger-top: #ef4444;
    --btn-danger-mid: #dc2626;
    --btn-danger-bottom: #b91c1c;
    --btn-danger-shadow: #991b1b;
    --btn-danger-hover-top: #f87171;
    --btn-danger-hover-mid: #ef4444;
    --btn-danger-hover-bottom: #dc2626;

    /* Buttons: Mark */
    --btn-mark-top: #f59e0b;
    --btn-mark-mid: #d97706;
    --btn-mark-bottom: #b45309;
    --btn-mark-shadow: #92400e;
    --btn-mark-hover-top: #fbbf24;
    --btn-mark-hover-mid: #f59e0b;
    --btn-mark-hover-bottom: #d97706;

    /* Action Buttons */
    --action-btn-top: #f1f5f9;
    --action-btn-bottom: #e2e8f0;
    --action-btn-text: #334155;
    --action-btn-border: #cbd5e1;
    --action-btn-border-bottom: #94a3b8;
    --action-btn-shadow: #cbd5e1;

    /* Icon Button */
    --icon-btn-top: #334155;
    --icon-btn-bottom: #1e293b;
    --icon-btn-text: #f8fafc;
    --icon-btn-border: #475569;
    --icon-btn-shadow: #334155;

    /* Secondary Action */
    --secondary-action-top: #e2e8f0;
    --secondary-action-bottom: #cbd5e1;
    --secondary-action-text: #475569;
    --secondary-action-border: #cbd5e1;

    /* Toggle Preview Button */
    --toggle-btn-top: #e2e8f0;
    --toggle-btn-bottom: #cbd5e1;
    --toggle-btn-text: #475569;
    --toggle-btn-border: #cbd5e1;

    /* Modal */
    --modal-bg-top: #ffffff;
    --modal-bg-bottom: #f8fafc;
    --modal-border: #e2e8f0;
    --modal-heading: #1e293b;
    --modal-subheading: #334155;
    --modal-text: #475569;
    --modal-close: #94a3b8;

    /* Toast */
    --toast-bg: #1e293b;
    --toast-text: #f8fafc;
    --toast-border: #334155;
    --toast-success-bg: #065f46;
    --toast-success-border: #10b981;
    --toast-error-bg: #991b1b;
    --toast-error-border: #ef4444;
    --toast-error-text: #fca5a5;

    /* Scrollbar */
    --scrollbar-track: #f1f5f9;
    --scrollbar-thumb: #cbd5e1;
    --scrollbar-thumb-hover: #94a3b8;

    /* Toggle Switch */
    --toggle-bg: #e2e8f0;
    --toggle-border: #cbd5e1;
    --toggle-knob: #94a3b8;

    /* Typography */
    --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-heading: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-display: 'SF Mono', 'Fira Code', 'Consolas', monospace;

    /* Cassette */
    --cassette-window-top: #f1f5f9;
    --cassette-window-bottom: #f8fafc;
    --tape-line-color: #e2e8f0;

    /* Text */
    --text-primary: #334155;
    --text-muted: #94a3b8;
    --text-subtle: #64748b;
    --input-bg: #f8fafc;

    /* Prompt Textarea */
    --textarea-bg: #f8fafc;
    --textarea-border: #e2e8f0;

    /* Warning */
    --warning-bg: #fef3c7;
    --warning-border: #f59e0b;
    --warning-text: #92400e;
    --warning-accent: #b91c1c;

    /* Compatibility Note */
    --compat-bg: rgba(0,0,0,0.03);
    --compat-border: #cbd5e1;
    --compat-text: #64748b;

    /* Loading */
    --spinner-track: #e2e8f0;
    --spinner-fill: #2563eb;

    /* Markdown in summary */
    --md-h3-color: #1d4ed8;
    --md-em-color: #6366f1;

    /* Follow-up */
    --followup-border: #e2e8f0;
    --followup-user-bg: rgba(37, 99, 235, 0.08);
    --followup-user-border: #bfdbfe;
    --followup-ai-bg: rgba(0, 0, 0, 0.02);
    --followup-ai-border: #e2e8f0;

    /* Progress bar */
    --progress-bg: #e2e8f0;
    --progress-border: #cbd5e1;
    --progress-fill-start: #2563eb;
    --progress-fill-end: #3b82f6;

    /* Whisper loading */
    --whisper-text: #64748b;
}

/* ============================================
   RESET AND BASE STYLES
   ============================================ */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-primary);
    background-color: var(--bg-primary);
    background-image:
        radial-gradient(circle at 50% 0%, var(--bg-gradient-center) 0%, var(--bg-gradient-edge) 100%);
    color: var(--text-primary);
    line-height: 1.6;
    min-height: 100vh;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

/* ============================================
   HEADER
   ============================================ */
header {
    background: linear-gradient(180deg, var(--header-top) 0%, var(--header-mid) 50%, var(--header-bottom) 100%);
    color: var(--header-text);
    padding: 0.75rem 1rem;
    text-align: center;
    position: relative;
    border-bottom: 3px solid var(--header-border);
    box-shadow:
        0 2px 0 var(--header-shadow),
        0 4px 8px rgba(0,0,0,0.4);
}

.header-logo {
    max-height: 100px;
    max-width: 90%;
    width: auto;
    display: block;
    margin: 0 auto;
}

/* Pro title (hidden by default, shown in pro theme) */
.pro-title {
    display: none;
    font-family: var(--font-heading);
    font-size: 1.2rem;
    font-weight: 700;
    letter-spacing: 1px;
    color: var(--header-text);
}

[data-theme="pro"] .header-logo { display: none; }
[data-theme="pro"] .pro-title { display: block; }

.icon-btn {
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
    background: linear-gradient(180deg, var(--icon-btn-top), var(--icon-btn-bottom));
    color: var(--icon-btn-text);
    border: 2px solid var(--icon-btn-border);
    border-radius: 50%;
    width: 32px;
    height: 32px;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.1s;
    box-shadow:
        0 2px 0 var(--icon-btn-shadow),
        inset 0 1px 0 rgba(255,255,255,0.5);
}

.icon-btn:active {
    transform: translateY(-50%) translateY(2px);
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.3);
}

/* Theme toggle button (in help modal) */
.theme-toggle-btn {
    display: block;
    width: 100%;
    padding: 0.6rem 1rem;
    margin-top: 0.5rem;
    font-size: 0.85rem;
    font-family: var(--font-heading);
    letter-spacing: 1px;
    text-transform: uppercase;
    border-radius: 6px;
    border: 2px solid var(--accent);
    background: transparent;
    color: var(--accent);
    cursor: pointer;
    transition: all 0.15s;
}

.theme-toggle-btn:hover {
    background: var(--accent);
    color: var(--bg-primary);
}

.theme-toggle-btn:active {
    transform: translateY(1px);
}

/* Show "Pro" label in Talkboy mode (click to switch to Pro) */
.theme-icon-pro { display: inline; }
.theme-icon-talkboy { display: none; }

[data-theme="pro"] .theme-icon-pro { display: none; }
[data-theme="pro"] .theme-icon-talkboy { display: inline; }

/* ============================================
   MAIN CONTENT
   ============================================ */
main {
    max-width: 800px;
    margin: 0 auto;
    padding: 1rem;
    background: linear-gradient(180deg, var(--main-top) 0%, var(--main-mid) 40%, var(--main-bottom) 100%);
    min-height: calc(100vh - 60px);
    border-left: 4px solid var(--main-border);
    border-right: 4px solid var(--main-border);
    box-shadow:
        inset 2px 0 0 rgba(255,255,255,0.15),
        inset -2px 0 0 rgba(0,0,0,0.1),
        6px 0 20px rgba(0,0,0,0.3),
        -6px 0 20px rgba(0,0,0,0.3);
}

[data-theme="pro"] main {
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    border-left: 1px solid var(--main-border);
    border-right: 1px solid var(--main-border);
}

/* Warning Messages */
.warning {
    background-color: var(--warning-bg);
    border: 2px solid var(--warning-border);
    border-radius: 4px;
    padding: 0.75rem;
    margin-bottom: 1rem;
    color: var(--warning-text);
    font-weight: 600;
}

.warning-text {
    color: var(--warning-accent);
    font-weight: 700;
}

/* Compatibility Note */
.compatibility-note {
    margin-top: 1.5rem;
    padding: 0.6rem;
    background-color: var(--compat-bg);
    border-left: 3px solid var(--compat-border);
    border-radius: 2px;
    font-size: 0.8rem;
    color: var(--compat-text);
    text-align: center;
}

.compatibility-note p {
    margin: 0;
}

.hidden {
    display: none !important;
}

/* ============================================
   STATUS SECTION
   ============================================ */
.status-section {
    background: linear-gradient(180deg, var(--status-bg-top) 0%, var(--status-bg-bottom) 100%);
    border-radius: 6px;
    padding: 0.75rem 1rem;
    margin-bottom: 0.75rem;
    border: 2px solid var(--panel-border);
    box-shadow:
        inset 0 2px 4px rgba(0,0,0,0.5),
        0 1px 0 rgba(255,255,255,0.15);
}

[data-theme="pro"] .status-section {
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
}

.status-indicator {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.status-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: var(--status-dot-off);
    transition: background-color 0.3s;
    box-shadow: 0 0 4px rgba(0,0,0,0.5);
}

.status-dot.recording {
    background-color: #ff2020;
    animation: led-pulse 1s ease-in-out infinite;
    box-shadow: 0 0 8px #ff2020, 0 0 16px rgba(255,32,32,0.4);
}

.status-dot.ready {
    background-color: var(--accent);
    box-shadow: 0 0 6px var(--accent-glow);
}

@keyframes led-pulse {
    0%, 100% {
        opacity: 1;
        box-shadow: 0 0 8px #ff2020, 0 0 16px rgba(255,32,32,0.4);
    }
    50% {
        opacity: 0.5;
        box-shadow: 0 0 4px #ff2020;
    }
}

.status-text {
    font-family: var(--font-display);
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: var(--accent-text-shadow-strong);
}

/* ============================================
   VU METER
   ============================================ */
.vu-meter {
    margin-top: 0.5rem;
}

.vu-bar {
    display: flex;
    gap: 3px;
    justify-content: center;
    padding: 0.3rem 0;
}

.vu-segment {
    width: 100%;
    max-width: 30px;
    height: 10px;
    background: var(--status-bg-bottom);
    border: 1px solid var(--screen-border);
    border-radius: 1px;
    transition: background 0.05s;
}

/* Green segments (1-10) */
.vu-segment:nth-child(-n+10).active {
    background: var(--accent);
    border-color: var(--accent);
    box-shadow: 0 0 4px var(--accent-glow);
}

/* Yellow segments (11-13) */
.vu-segment:nth-child(n+11):nth-child(-n+13).active {
    background: #cccc22;
    border-color: #cccc22;
    box-shadow: 0 0 4px rgba(204,204,34,0.5);
}

/* Red segments (14-16) */
.vu-segment:nth-child(n+14).active {
    background: #ee3322;
    border-color: #ee3322;
    box-shadow: 0 0 4px rgba(238,51,34,0.5);
}

/* ============================================
   CONTROL BUTTONS
   ============================================ */
.controls {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
}

.control-btn {
    flex: 1;
    height: 56px;
    font-family: var(--font-heading);
    font-size: 0.95rem;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.08s;
    touch-action: manipulation;
    position: relative;
}

.control-btn:active {
    transform: translateY(3px);
}

/* START = Primary button */
.control-btn.primary {
    background: linear-gradient(180deg, var(--btn-primary-top) 0%, var(--btn-primary-mid) 50%, var(--btn-primary-bottom) 100%);
    color: white;
    border-bottom: 4px solid var(--btn-primary-shadow);
    box-shadow:
        0 4px 0 var(--btn-primary-shadow),
        inset 0 1px 0 rgba(255,255,255,0.3),
        0 4px 12px rgba(0,0,0,0.3);
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

.control-btn.primary:hover {
    background: linear-gradient(180deg, var(--btn-primary-hover-top) 0%, var(--btn-primary-hover-mid) 50%, var(--btn-primary-hover-bottom) 100%);
}

.control-btn.primary:active {
    box-shadow:
        0 1px 0 var(--btn-primary-shadow),
        inset 0 2px 4px rgba(0,0,0,0.3);
    border-bottom: 1px solid var(--btn-primary-shadow);
}

/* Recording state = Red */
.control-btn.primary.recording {
    background: linear-gradient(180deg, var(--btn-danger-top) 0%, var(--btn-danger-mid) 50%, var(--btn-danger-bottom) 100%);
    border-bottom: 4px solid var(--btn-danger-shadow);
    box-shadow:
        0 4px 0 var(--btn-danger-shadow),
        inset 0 1px 0 rgba(255,255,255,0.2),
        0 0 20px rgba(232,56,48,0.4);
    animation: rec-glow 1.5s ease-in-out infinite;
}

@keyframes rec-glow {
    0%, 100% { box-shadow: 0 4px 0 var(--btn-danger-shadow), 0 0 12px rgba(232,56,48,0.3); }
    50% { box-shadow: 0 4px 0 var(--btn-danger-shadow), 0 0 24px rgba(232,56,48,0.6); }
}

/* STOP = Secondary button */
.control-btn.secondary {
    background: linear-gradient(180deg, var(--btn-secondary-top) 0%, var(--btn-secondary-mid) 50%, var(--btn-secondary-bottom) 100%);
    color: var(--btn-secondary-text);
    border-bottom: 4px solid var(--btn-secondary-shadow);
    box-shadow:
        0 4px 0 var(--btn-secondary-shadow),
        inset 0 1px 0 rgba(255,255,255,0.2),
        0 4px 12px rgba(0,0,0,0.3);
    text-shadow: 0 1px 2px rgba(0,0,0,0.4);
}

.control-btn.secondary:hover {
    background: linear-gradient(180deg, var(--btn-secondary-hover-top) 0%, var(--btn-secondary-hover-mid) 50%, var(--btn-secondary-hover-bottom) 100%);
}

.control-btn.secondary:active {
    box-shadow:
        0 1px 0 var(--btn-secondary-shadow),
        inset 0 2px 4px rgba(0,0,0,0.3);
    border-bottom: 1px solid var(--btn-secondary-shadow);
}

/* CLEAR = Danger button */
.control-btn.danger {
    background: linear-gradient(180deg, var(--btn-danger-top) 0%, var(--btn-danger-mid) 50%, var(--btn-danger-bottom) 100%);
    color: white;
    border-bottom: 4px solid var(--btn-danger-shadow);
    box-shadow:
        0 4px 0 var(--btn-danger-shadow),
        inset 0 1px 0 rgba(255,255,255,0.2),
        0 4px 12px rgba(0,0,0,0.3);
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

.control-btn.danger:hover {
    background: linear-gradient(180deg, var(--btn-danger-hover-top) 0%, var(--btn-danger-hover-mid) 50%, var(--btn-danger-hover-bottom) 100%);
}

.control-btn.danger:active {
    box-shadow:
        0 1px 0 var(--btn-danger-shadow),
        inset 0 2px 4px rgba(0,0,0,0.3);
    border-bottom: 1px solid var(--btn-danger-shadow);
}

/* MARK timestamp button */
.control-btn.mark-btn {
    background: linear-gradient(180deg, var(--btn-mark-top) 0%, var(--btn-mark-mid) 50%, var(--btn-mark-bottom) 100%);
    color: white;
    border-bottom: 4px solid var(--btn-mark-shadow);
    box-shadow:
        0 4px 0 var(--btn-mark-shadow),
        inset 0 1px 0 rgba(255,255,255,0.3),
        0 4px 12px rgba(0,0,0,0.3);
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
    flex: 0.5;
}

.control-btn.mark-btn:hover {
    background: linear-gradient(180deg, var(--btn-mark-hover-top) 0%, var(--btn-mark-hover-mid) 50%, var(--btn-mark-hover-bottom) 100%);
}

.control-btn.mark-btn:active {
    box-shadow:
        0 1px 0 var(--btn-mark-shadow),
        inset 0 2px 4px rgba(0,0,0,0.3);
    border-bottom: 1px solid var(--btn-mark-shadow);
}

.control-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    filter: grayscale(50%);
}

[data-theme="pro"] .control-btn {
    border-radius: 8px;
    border-bottom-width: 3px;
}

/* Timestamp badges in transcript */
.timestamp-badge {
    display: inline-block;
    background: var(--accent-bg);
    color: var(--accent-bright);
    border: 1px solid var(--accent-dim);
    border-radius: 3px;
    padding: 0.1rem 0.4rem;
    font-size: 0.75rem;
    font-family: var(--font-display);
    margin: 0 0.2rem;
    vertical-align: middle;
    text-shadow: var(--accent-text-shadow);
}

/* Whisper Loading */
.whisper-loading {
    background: linear-gradient(180deg, var(--status-bg-top), var(--status-bg-bottom));
    border: 2px solid var(--panel-border);
    border-radius: 6px;
    padding: 1rem;
    margin-bottom: 0.75rem;
    text-align: center;
    color: var(--whisper-text);
}

.progress-bar {
    width: 100%;
    height: 16px;
    background-color: var(--progress-bg);
    border-radius: 3px;
    overflow: hidden;
    margin: 0.5rem 0;
    border: 1px solid var(--progress-border);
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--progress-fill-start), var(--progress-fill-end));
    width: 0%;
    transition: width 0.3s;
    box-shadow: 0 0 8px var(--accent-glow);
}

.progress-text {
    font-size: 0.85rem;
    color: var(--accent);
    margin-top: 0.25rem;
}

/* ============================================
   CASSETTE TAPE REELS
   ============================================ */
.cassette-reels {
    margin-bottom: 0.75rem;
}

/* Hide cassette reels in pro mode */
[data-theme="pro"] .cassette-reels {
    display: none;
}

.cassette-window {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0;
    background: linear-gradient(180deg, var(--cassette-window-top) 0%, var(--cassette-window-bottom) 100%);
    border: 3px solid var(--panel-border);
    border-radius: 12px;
    padding: 1rem 1.5rem;
    box-shadow:
        inset 0 3px 10px rgba(0,0,0,0.7),
        0 2px 0 rgba(255,255,255,0.1);
}

.tape-reel {
    width: 90px;
    height: 90px;
    flex-shrink: 0;
}

.tape-reel circle,
.tape-reel line {
    transition: stroke 0.3s;
}

.tape-bridge {
    flex: 1;
    display: flex;
    align-items: center;
    padding: 0 0.25rem;
}

.tape-line {
    width: 100%;
    height: 2px;
    background: var(--tape-line-color);
    border-radius: 1px;
}

/* Spinning animation when recording */
.cassette-reels.recording .reel-left {
    animation: spin-reel 3s linear infinite;
}

.cassette-reels.recording .reel-right {
    animation: spin-reel 2.4s linear infinite;
}

.cassette-reels.recording .tape-reel circle,
.cassette-reels.recording .tape-reel line {
    stroke: #555;
}

.cassette-reels.recording .tape-line {
    background: #444;
}

@keyframes spin-reel {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Responsive - smaller reels on mobile */
@media (max-width: 480px) {
    .tape-reel {
        width: 65px;
        height: 65px;
    }
    .cassette-window {
        padding: 0.75rem 1rem;
    }
}

/* ============================================
   TRANSCRIPT SECTION
   ============================================ */
.transcript-section {
    background: linear-gradient(180deg, var(--panel-bg-top) 0%, var(--panel-bg-bottom) 100%);
    border-radius: 10px;
    padding: 1rem;
    margin-bottom: 0.75rem;
    border: 3px solid var(--panel-border);
    box-shadow:
        inset 0 3px 8px rgba(0,0,0,0.6),
        0 2px 0 rgba(255,255,255,0.1);
}

[data-theme="pro"] .transcript-section {
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    border-width: 1px;
}

.transcript-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.transcript-section h2 {
    font-family: var(--font-heading);
    font-size: 1rem;
    margin-bottom: 0;
    color: var(--panel-heading);
    text-transform: uppercase;
    letter-spacing: 2px;
}

.transcript-info {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.word-count {
    font-size: 0.8rem;
    color: var(--accent);
    font-weight: 500;
    text-shadow: var(--accent-text-shadow);
}

.toggle-preview-btn {
    padding: 0.35rem 0.7rem;
    font-family: var(--font-display);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    background: linear-gradient(180deg, var(--toggle-btn-top), var(--toggle-btn-bottom));
    color: var(--toggle-btn-text);
    border: 1px solid var(--toggle-btn-border);
    border-radius: 3px;
    cursor: pointer;
    transition: all 0.1s;
    touch-action: manipulation;
}

.toggle-preview-btn:active {
    background: var(--panel-border);
    color: var(--accent);
    transform: scale(0.98);
}

.toggle-preview-btn.active {
    background: var(--panel-border);
    color: var(--accent);
    border-color: var(--accent);
}

/* Cassette tape window look */
.transcript-container {
    max-height: 400px;
    overflow-y: auto;
    border-radius: 8px;
    padding: 1rem;
    background: linear-gradient(180deg, var(--screen-bg-top) 0%, var(--screen-bg-bottom) 100%);
    border: 2px solid var(--screen-border);
    -webkit-overflow-scrolling: touch;
    box-shadow: inset 0 2px 8px rgba(0,0,0,0.8);
}

[data-theme="pro"] .transcript-container {
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.06);
}

.transcript-text {
    font-family: var(--font-display);
    font-size: 0.95rem;
    line-height: 1.8;
    color: var(--accent);
    text-shadow: var(--accent-text-shadow);
    white-space: pre-wrap;
    word-wrap: break-word;
    outline: none;
}

.transcript-text.empty {
    color: var(--accent-dim);
    font-style: italic;
    text-shadow: none;
}

.transcript-text.editable {
    cursor: text;
}

.transcript-text.editable:focus {
    background-color: var(--accent-subtle-bg2);
    border: 1px solid var(--accent);
    border-radius: 4px;
    padding: calc(1rem - 1px);
    box-shadow: 0 0 12px var(--accent-subtle-bg);
}

.interim-text {
    color: var(--text-muted);
    font-style: italic;
    text-shadow: none;
}

.preview-ellipsis {
    color: var(--accent);
    font-weight: 600;
}

/* ============================================
   ACTION BUTTONS
   ============================================ */
.actions {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
}

.actions.actions-3col {
    grid-template-columns: 1fr 1fr 1fr;
}

.action-btn {
    height: 44px;
    font-family: var(--font-display);
    font-size: 0.85rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    background: linear-gradient(180deg, var(--action-btn-top) 0%, var(--action-btn-bottom) 100%);
    color: var(--action-btn-text);
    border: 2px solid var(--action-btn-border);
    border-bottom: 3px solid var(--action-btn-border-bottom);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.08s;
    touch-action: manipulation;
    box-shadow: 0 2px 0 var(--action-btn-shadow);
}

.action-btn:active {
    transform: translateY(2px);
    box-shadow: none;
    border-bottom: 1px solid var(--action-btn-border-bottom);
}

.action-btn:disabled {
    opacity: 0.35;
    cursor: not-allowed;
}

/* ============================================
   MODALS
   ============================================ */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 1rem;
}

.modal-content {
    background: linear-gradient(180deg, var(--modal-bg-top) 0%, var(--modal-bg-bottom) 100%);
    border-radius: 8px;
    border: 3px solid var(--modal-border);
    padding: 1.5rem;
    max-width: 800px;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
    box-shadow:
        0 8px 32px rgba(0,0,0,0.5),
        inset 0 1px 0 rgba(255,255,255,0.3);
}

[data-theme="pro"] .modal-content {
    border-width: 1px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
}

.modal-content h2 {
    font-family: var(--font-heading);
    margin-bottom: 1rem;
    color: var(--modal-heading);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.modal-content h3 {
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    color: var(--modal-subheading);
    font-size: 1rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.modal-content ul,
.modal-content ol {
    margin-left: 1.5rem;
    margin-bottom: 1rem;
}

.modal-content li {
    margin-bottom: 0.5rem;
    color: var(--modal-text);
}

.close-btn {
    position: absolute;
    top: 0.5rem;
    right: 1rem;
    font-size: 2rem;
    color: var(--modal-close);
    cursor: pointer;
    line-height: 1;
}

.close-btn:hover {
    color: var(--modal-heading);
}

/* Confirm Modal */
.confirm-modal {
    max-width: 400px;
    text-align: center;
}

.confirm-buttons {
    display: flex;
    gap: 0.5rem;
    margin-top: 1rem;
}

/* ============================================
   TOAST NOTIFICATION
   ============================================ */
.toast {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    font-family: var(--font-display);
    background-color: var(--toast-bg);
    color: var(--toast-text);
    padding: 0.75rem 1.25rem;
    border-radius: 4px;
    border: 2px solid var(--toast-border);
    box-shadow: 0 4px 16px rgba(0,0,0,0.5);
    z-index: 2000;
    min-width: 250px;
    text-align: center;
    animation: slideUp 0.3s ease-out;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 0.85rem;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

.toast.success {
    background-color: var(--toast-success-bg);
    border-color: var(--toast-success-border);
    color: var(--toast-success-border);
    box-shadow: 0 4px 16px rgba(0,0,0,0.5), 0 0 12px rgba(34,204,68,0.2);
}

.toast.error {
    background-color: var(--toast-error-bg);
    border-color: var(--toast-error-border);
    color: var(--toast-error-text);
    box-shadow: 0 4px 16px rgba(0,0,0,0.5), 0 0 12px rgba(232,56,48,0.2);
}

/* ============================================
   RESPONSIVE
   ============================================ */
@media (min-width: 768px) {
    header h1 {
        font-size: 2.2rem;
        letter-spacing: 6px;
    }

    .transcript-container {
        max-height: 500px;
    }

    .actions {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Prevent text selection on buttons */
button {
    -webkit-user-select: none;
    user-select: none;
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 6px;
}

::-webkit-scrollbar-track {
    background: var(--scrollbar-track);
}

::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--scrollbar-thumb-hover);
}

/* ============================================
   AI SUMMARY SECTION
   ============================================ */
.ai-summary-section {
    background: linear-gradient(180deg, var(--panel-bg-top) 0%, var(--panel-bg-bottom) 100%);
    border-radius: 10px;
    padding: 1rem;
    margin-bottom: 0.75rem;
    border: 3px solid var(--panel-border);
    box-shadow:
        inset 0 3px 8px rgba(0,0,0,0.6),
        0 2px 0 rgba(255,255,255,0.1);
}

[data-theme="pro"] .ai-summary-section {
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    border-width: 1px;
}

.ai-summary-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}

.ai-summary-section h2 {
    font-family: var(--font-heading);
    font-size: 1rem;
    margin-bottom: 0;
    color: var(--panel-heading);
    text-transform: uppercase;
    letter-spacing: 2px;
}

/* Auto-summarize toggle switch */
.auto-summary-toggle {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    cursor: pointer;
    user-select: none;
}

.auto-summary-toggle input {
    display: none;
}

.toggle-slider {
    width: 36px;
    height: 18px;
    background: var(--toggle-bg);
    border: 1px solid var(--toggle-border);
    border-radius: 9px;
    position: relative;
    transition: all 0.2s;
}

.toggle-slider::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 12px;
    height: 12px;
    background: var(--toggle-knob);
    border-radius: 50%;
    transition: all 0.2s;
}

.auto-summary-toggle input:checked + .toggle-slider {
    background: var(--accent-bg);
    border-color: var(--accent);
}

.auto-summary-toggle input:checked + .toggle-slider::after {
    left: 20px;
    background: var(--accent);
    box-shadow: 0 0 6px var(--accent-glow);
}

.toggle-label {
    font-family: var(--font-display);
    font-size: 0.75rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.auto-summary-toggle input:checked ~ .toggle-label {
    color: var(--accent);
}

.summary-controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.secondary-action-btn {
    background: linear-gradient(180deg, var(--secondary-action-top), var(--secondary-action-bottom));
    color: var(--secondary-action-text);
    border-color: var(--secondary-action-border);
}

.secondary-action-btn:active {
    background: var(--panel-border);
    color: var(--action-btn-text);
}

.summary-container {
    border-radius: 8px;
    padding: 1rem;
    background: linear-gradient(180deg, var(--screen-bg-top) 0%, var(--screen-bg-bottom) 100%);
    border: 2px solid var(--screen-border);
    margin-bottom: 1rem;
    box-shadow: inset 0 2px 8px rgba(0,0,0,0.8);
}

[data-theme="pro"] .summary-container {
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.06);
}

.summary-text {
    font-family: var(--font-display);
    font-size: 0.9rem;
    line-height: 1.8;
    color: var(--accent);
    text-shadow: var(--accent-text-shadow);
    word-wrap: break-word;
    max-height: 400px;
    overflow-y: auto;
    margin-bottom: 1rem;
}

/* Markdown rendered inside summary */
.summary-text h1,
.summary-text h2,
.summary-text h3,
.summary-text h4 {
    font-family: var(--font-heading);
    color: var(--accent-bright);
    text-shadow: var(--accent-text-shadow-heading);
    margin: 1rem 0 0.5rem;
    letter-spacing: 1px;
}

.summary-text h1 { font-size: 1.15rem; }
.summary-text h2 { font-size: 1.05rem; }
.summary-text h3 { font-size: 0.95rem; color: var(--md-h3-color); }
.summary-text h4 { font-size: 0.9rem; color: var(--md-h3-color); }

.summary-text p {
    margin: 0.4rem 0;
}

.summary-text ul,
.summary-text ol {
    margin: 0.4rem 0 0.4rem 1.5rem;
    padding: 0;
}

.summary-text li {
    margin-bottom: 0.25rem;
}

.summary-text li::marker {
    color: var(--accent-bright);
}

.summary-text strong {
    color: var(--accent-bright);
    text-shadow: var(--accent-text-shadow);
}

.summary-text em {
    color: var(--md-em-color);
    font-style: italic;
}

.summary-text code {
    background: var(--accent-subtle-bg);
    border: 1px solid var(--accent-dim);
    border-radius: 2px;
    padding: 0.1rem 0.3rem;
    font-size: 0.85rem;
}

.summary-text blockquote {
    border-left: 3px solid var(--accent);
    margin: 0.5rem 0;
    padding: 0.3rem 0.75rem;
    color: var(--md-em-color);
    background: var(--accent-subtle-bg3);
}

.summary-text hr {
    border: none;
    border-top: 1px solid var(--accent-dim);
    margin: 0.75rem 0;
}

.summary-actions {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.5rem;
}

.small-action-btn {
    height: 38px;
    font-size: 0.8rem;
}

.summary-loading {
    text-align: center;
    padding: 2rem;
}

.loading-spinner {
    border: 3px solid var(--spinner-track);
    border-top: 3px solid var(--spinner-fill);
    border-radius: 50%;
    width: 36px;
    height: 36px;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
    box-shadow: 0 0 8px var(--accent-glow);
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.summary-loading p {
    color: var(--accent);
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* Prompt Modal */
.prompt-textarea {
    width: 100%;
    padding: 0.75rem;
    background: var(--textarea-bg);
    color: var(--accent);
    border: 2px solid var(--textarea-border);
    border-radius: 4px;
    font-family: var(--font-display);
    font-size: 0.85rem;
    resize: vertical;
    margin-bottom: 1rem;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.5);
}

[data-theme="pro"] .prompt-textarea {
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.06);
}

.prompt-textarea:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.5), 0 0 8px var(--accent-glow);
}

.modal-buttons {
    display: flex;
    gap: 0.5rem;
    justify-content: flex-end;
}

/* ============================================
   WORD CLOUD
   ============================================ */
.word-cloud-section {
    background: linear-gradient(180deg, var(--panel-bg-top) 0%, var(--panel-bg-bottom) 100%);
    border-radius: 10px;
    padding: 1rem;
    margin-bottom: 0.75rem;
    border: 3px solid var(--panel-border);
    box-shadow:
        inset 0 3px 8px rgba(0,0,0,0.6),
        0 2px 0 rgba(255,255,255,0.1);
}

[data-theme="pro"] .word-cloud-section {
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    border-width: 1px;
}

.word-cloud-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}

.word-cloud-section h2 {
    font-family: var(--font-heading);
    font-size: 1rem;
    margin-bottom: 0;
    color: var(--panel-heading);
    text-transform: uppercase;
    letter-spacing: 2px;
}

.word-cloud-container {
    background: linear-gradient(180deg, var(--screen-bg-top) 0%, var(--screen-bg-bottom) 100%);
    border: 2px solid var(--screen-border);
    border-radius: 8px;
    padding: 1rem;
    min-height: 80px;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    box-shadow: inset 0 2px 8px rgba(0,0,0,0.8);
}

[data-theme="pro"] .word-cloud-container {
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.06);
}

.wc-word {
    font-family: var(--font-heading);
    color: var(--accent);
    text-shadow: var(--accent-text-shadow);
    display: inline-block;
    padding: 0.1rem 0.3rem;
    transition: all 0.2s;
}

.wc-empty {
    font-family: var(--font-display);
    color: var(--accent-dim);
    font-size: 0.85rem;
    font-style: italic;
}

/* ============================================
   FOLLOW-UP QUESTIONS CHAT
   ============================================ */
.followup-section {
    margin-top: 1rem;
    border-top: 1px solid var(--followup-border);
    padding-top: 0.75rem;
}

.followup-thread {
    max-height: 300px;
    overflow-y: auto;
    margin-bottom: 0.5rem;
}

.followup-msg {
    padding: 0.5rem 0.75rem;
    margin-bottom: 0.5rem;
    border-radius: 6px;
    font-family: var(--font-display);
    font-size: 0.85rem;
    line-height: 1.6;
}

.followup-msg.user {
    background: var(--followup-user-bg);
    border: 1px solid var(--followup-user-border);
    color: var(--accent-bright);
    text-align: right;
}

.followup-msg.ai {
    background: var(--followup-ai-bg);
    border: 1px solid var(--followup-ai-border);
    color: var(--accent);
}

.followup-msg.ai p { margin: 0.3rem 0; }
.followup-msg.ai ul, .followup-msg.ai ol { margin: 0.3rem 0 0.3rem 1.2rem; }
.followup-msg.ai strong { color: var(--accent-bright); }
.followup-msg.ai h1, .followup-msg.ai h2, .followup-msg.ai h3 {
    font-family: var(--font-heading);
    color: var(--accent-bright);
    margin: 0.5rem 0 0.3rem;
    font-size: 0.9rem;
}

.followup-input-row {
    display: flex;
    gap: 0.5rem;
}

.followup-input {
    flex: 1;
    padding: 0.5rem 0.75rem;
    background: var(--input-bg);
    color: var(--accent);
    border: 2px solid var(--screen-border);
    border-radius: 4px;
    font-family: var(--font-display);
    font-size: 0.85rem;
    outline: none;
}

.followup-input:focus {
    border-color: var(--accent);
    box-shadow: 0 0 6px var(--accent-glow);
}

.followup-input::placeholder {
    color: var(--accent-dim);
}

.followup-send-btn {
    flex-shrink: 0;
    width: 60px;
    height: auto;
    font-size: 0.8rem;
    letter-spacing: 1px;
}

/* Tape reel decoration on transcript section */
.transcript-section::before,
.transcript-section::after {
    content: '';
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid var(--panel-border);
    border-radius: 50%;
    position: absolute;
    top: -999px; /* hidden by default, decorative concept */
}
